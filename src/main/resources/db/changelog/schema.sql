CREATE TABLE client
(
    id    BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name  VARCHAR(255)  NOT NULL,
    phone VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL,
    CONSTRAINT pk_client PRIMARY KEY (id)
);

    CREATE TABLE team
    (
        id      BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
        name    VARCHAR(255) NOT NULL,
        members BIGINT NOT NULL,
        CONSTRAINT pk_team PRIMARY KEY (id)
    );

CREATE TABLE supplier
(
    id   BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name VARCHAR(255) NOT NULL,
    CONSTRAINT pk_supplier PRIMARY KEY (id)
);

CREATE TABLE material
(
    id BIGINT    GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name         VARCHAR(255) NOT NULL,
    quantity     BIGINT NOT NULL,
    unit         VARCHAR(255) NOT NULL,
    supplier_id  BIGINT NOT NULL,

    CONSTRAINT pk_material PRIMARY KEY (id),
    CONSTRAINT fk_material_on_supplier FOREIGN KEY (supplier_id) REFERENCES supplier (id)
);

CREATE TABLE tech
(
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    name VARCHAR(255) NOT NULL,
    supplier_id BIGINT NOT NULL,

    CONSTRAINT pk_tech PRIMARY KEY (id),
    CONSTRAINT fk_tech_on_supplier FOREIGN KEY (supplier_id) REFERENCES supplier (id)
);

CREATE TABLE project
(
    id BIGINT GENERATED BY DEFAULT AS IDENTITY NOT NULL,
    client_id BIGINT NOT NULL,
    team_id BIGINT NOT NULL,
    type VARCHAR(255) NOT NULL,
    price BIGINT NOT NULL,
    start_date DATE NOT NULL,
    date DATE NOT NULL,

    CONSTRAINT pk_project PRIMARY KEY (id),
    CONSTRAINT fk_project_on_client FOREIGN KEY (client_id) REFERENCES client (id),
    CONSTRAINT fk_project_on_team FOREIGN KEY (team_id) REFERENCES team (id)
);

CREATE TABLE material_for_project
(
    material_id BIGINT NOT NULL,
    project_id BIGINT NOT NULL,
    quantity BIGINT NOT NULL,

    CONSTRAINT pk_mfp PRIMARY KEY (material_id, project_id),
    CONSTRAINT fk_mfp_on_material FOREIGN KEY (material_id) REFERENCES material (id),
    CONSTRAINT fk_mfp_on_project FOREIGN KEY (project_id) REFERENCES project (id)
);

CREATE TABLE tech_for_project
(
    tech_id BIGINT NOT NULL,
    project_id BIGINT NOT NULL,
    quantity BIGINT NOT NULL,

    CONSTRAINT pk_tfp PRIMARY KEY (tech_id, project_id),
    CONSTRAINT fk_tfp_on_tech FOREIGN KEY (tech_id) REFERENCES tech (id),
    CONSTRAINT fk_tfp_on_project FOREIGN KEY (project_id) REFERENCES project (id)
);

INSERT INTO supplier(name)
VALUES
    ('AquaTech Supplies Ltd.'),
    ('Cascade Pools and Spas JLLC'),
    ('Crystal Clear Waters Limited'),
    ('Sunrise Aquatics GmbH'),
    ('Elite Pool Solutions Inc.'),
    ('Aquatic Innovations LLC'),
    ('Paradise Pool Products Pty. Ltd.'),
    ('Aquascape Technologies Ltd.'),
    ('Bluewater Pool Supplies GmbH'),
    ('AquaLux Materials Limited'),
    ('Oceanic Pool Systems Inc.'),
    ('Aquatic Edge Technologies Ltd.');

INSERT INTO tech (name, supplier_id)
VALUES
    ('Pool Pumps', 1),
    ('Pool Filters', 2),
    ('Pool Heaters', 3),
    ('Pool Cleaners', 4),
    ('Pool Lighting', 5),
    ('Pool Covers', 6),
    ('Pool Automation Systems', 7),
    ('Water Treatment Systems', 8),
    ('Pool Safety Equipment', 9),
    ('Pool Maintenance Tools', 10),
    ('Pool Chemicals', 11),
    ('Pool Test Kits', 12);

INSERT INTO material (name, quantity, unit, supplier_id)
VALUES
    ('Concrete', 100, 'cubic yards', 1),
    ('Steel Reinforcement Bars', 500, 'pieces', 2),
    ('Tile', 2000, 'square feet', 3),
    ('Gravel', 500, 'tons', 4),
    ('PVC Pipes', 1000, 'feet', 5),
    ('Fiberglass', 50, 'rolls', 6),
    ('Cement', 100, 'bags', 7),
    ('Sand', 200, 'tons', 8),
    ('Adhesive', 20, 'gallons', 9),
    ('Waterproofing Membrane', 100, 'rolls', 10),
    ('Chemical Resistant Paint', 10, 'gallons', 11),
    ('Sealant', 50, 'tubes', 12);

INSERT INTO client (name, phone, email)
VALUES
    ('John Doe', '123-456-7890', 'johndoe@example.com'),
    ('Jane Smith', '987-654-3210', 'janesmith@example.com'),
    ('ABC Company', '555-123-4567', 'info@abccompany.com'),
    ('XYZ Corporation', '111-222-3333', 'contact@xyzcorp.com'),
    ('Robert Johnson', '444-555-6666', 'robertjohnson@example.com'),
    ('Sarah Williams', '777-888-9999', 'sarahwilliams@example.com'),
    ('123 Pool Builders', '222-333-4444', 'info@123poolbuilders.com'),
    ('ABC Pool Services', '999-888-7777', 'contact@abcpoolservices.com'),
    ('Mark Davis', '777-111-2222', 'markdavis@example.com'),
    ('Emily Thompson', '888-444-5555', 'emilythompson@example.com'),
    ('Smith & Sons Construction', '555-777-9999', 'info@smithandsons.com'),
    ('Johnson Enterprises', '111-999-3333', 'contact@johnsonenterprises.com');

INSERT INTO team (name, members)
VALUES
    ('Team Alpha', 5),
    ('Team Bravo', 3),
    ('Team Charlie', 4),
    ('Team Delta', 6),
    ('Team Echo', 4),
    ('Team Foxtrot', 5),
    ('Team Golf', 4),
    ('Team Hotel', 2),
    ('Team India', 3),
    ('Team Juliet', 5),
    ('Team Kilo', 3),
    ('Team Lima', 4);

INSERT INTO project (client_id, team_id, type, price, start_date, "date")
VALUES
    (1, 1, 'Concrete', 5000,   '2023-12-05', '2024-01-05'),
    (2, 1, 'Composite', 3000,  '2024-01-24', '2024-02-10'),
    (3, 2, 'Propylene', 1000,  '2024-02-22', '2024-03-15'),
    (4, 3, 'Concrete', 7000,   '2024-03-20', '2024-04-20'),
    (5, 3, 'Composite', 4000,  '2024-04-11', '2024-05-25'),
    (6, 4, 'Propylene', 1500,  '2024-05-07', '2024-06-30'),
    (7, 4, 'Concrete', 5500,   '2024-06-05', '2024-07-05'),
    (8, 5, 'Composite', 3200,  '2024-07-24', '2024-08-10'),
    (9, 5, 'Propylene', 1200,  '2024-08-22', '2024-09-15'),
    (10, 6, 'Concrete', 6000,  '2024-09-20', '2024-10-20'),
    (11, 6, 'Composite', 3500, '2024-10-11', '2024-11-25'),
    (12, 7, 'Propylene', 1300, '2024-04-01', '2024-05-30');


INSERT INTO material_for_project (material_id, project_id, quantity)
VALUES
    (1, 1, 10),
    (2, 1, 5),
    (3, 1, 3),
    (4, 2, 8),
    (5, 2, 4),
    (6, 2, 2),
    (7, 3, 6),
    (8, 3, 3),
    (9, 3, 2),
    (10, 4, 12);

INSERT INTO tech_for_project (tech_id, project_id, quantity)
VALUES
    (1, 1, 2),
    (2, 1, 1),
    (3, 1, 1),
    (4, 2, 2),
    (5, 2, 1),
    (6, 2, 1),
    (7, 3, 2),
    (8, 3, 1),
    (9, 3, 1),
    (10, 4, 3),
    (11, 4, 2),
    (12, 4, 2);

ALTER TABLE project
    ADD COLUMN description TEXT;

UPDATE project SET description = 'This project involves the construction of a new pool using high-quality concrete materials.' WHERE id = 1;
UPDATE project SET description = 'This project is focused on renovating an existing pool and upgrading it with composite materials.' WHERE id = 2;
UPDATE project SET description = 'This project entails regular maintenance tasks for a pool, including cleaning and water treatment.' WHERE id = 3;
UPDATE project SET description = 'A new pool construction project that utilizes durable concrete materials and advanced design techniques.' WHERE id = 4;
UPDATE project SET description = 'Renovation project aimed at transforming an outdated pool into a modern and stylish swimming area.' WHERE id = 5;
UPDATE project SET description = 'Routine pool maintenance project involving cleaning, equipment inspection, and water quality testing.' WHERE id = 6;
UPDATE project SET description = 'A new pool construction project using top-grade concrete and customized design features.' WHERE id = 7;
UPDATE project SET description = 'Pool renovation project that includes upgrading the pool''s structure and adding composite elements.' WHERE id = 8;
UPDATE project SET description = 'Regular pool maintenance tasks such as cleaning, chemical balancing, and equipment maintenance.' WHERE id = 9;
UPDATE project SET description = 'Construction of a new pool with concrete materials, designed to meet specific client requirements.' WHERE id = 10;
UPDATE project SET description = 'Renovation project to enhance the pool''s aesthetics and functionality using composite materials.' WHERE id = 11;
UPDATE project SET description = 'Ongoing pool maintenance project focused on ensuring the pool remains clean, safe, and operational.' WHERE id = 12;
